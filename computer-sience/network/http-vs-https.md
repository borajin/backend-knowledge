### HTTP vs HTTPS
`HTTP` 와 `HTTPS` 는 네트워크 통신 규약이다. HTTP는 리소스를 주고받을 때 암호화되지 않은 평문으로 주고받기 때문에 도청의 가능성이 있다. HTTPS는 HTTP 에 리소스를 암호화하는 `SSL(Secure Socket Layer)` 를 추가한 프로토콜이다.

### HTTP 의 동작과정
1. 웹브라우저에 URL 주소를 입력하면 `DNS` 서버에 요청을 보내 해당하는 웹서버의 IP 주소를 얻어온다.
2. 이 웹서버와 연결요청(`SYN`)-응답, 연결요청(`ACK, SYN`)-응답,연결성립(`ACK`)의 3단계 과정을 거치는 `3-way handshake` 과정을 거쳐 TCP 연결을 한다.
3. 연결 후 클라이언트는 서버에게 리소스를 요청하기 위해 `HTTP Request Message` 를 생성해 전송하고 서버는 클라이언트가 요청한 리소스를 응답한다.
4. 응답 후 서버는 통신끝남알림(`FIN`)-확인, 남은 데이터 전송(`ACK`)-통신끝남알림(`FIN`)-확인, 연결종료(`ACK`) 의 4단계를 거치는 `4-way handshake` 과정을 거쳐 클라이언트와의 연결을 종료한다.

### HTTPS 의 동작과정
1. 클라이언트가 서버에 접속하는 `client hello` 단계에서는 어떤 암호화 방식을 사용할지 결정하기 위해 `클라이언트가 지원하는 암호화 방식`과 이후 또 연결 시 캐싱을 위한 `세션 아이디`를 전송한다.    
2. 서버는 이 응답으로 `server hello` 를 한다. 이때에는 이후 대칭키를 생성할 때 사용할 `랜덤 데이터`와 `선택한 암호화 방식`, 그리고 대칭키를 암호화하기 위한 공개키 정보가 들어 있는 `인증서`를 전송해 협상을 종료한다.    
3. 클라이언트는 서버에서 보내온 인증서가 `공식적으로 인정된 인증 기관(CA)`에서 발급한 것인지 확인하기 위해 클라이언트에 내장된 CA의 개인키로 복호화한다. 만약 복호화되지 않으면 사용자에게 경고 메시지를 출력한다.
4. 인증서 복호화에 성공하면 서버를 신뢰할 수 있게 되어, 서버가 보내온 랜덤데이터와 클라이언트가 생성한 랜덤 데이터를 조합해 `대칭키`를 생성한다. 클라이언트는 생성한 대칭키를 제 3자에게서 보호하기 위해 인증서 안에 들어 있는 `공개키`로 대칭키를 암호화해 전송한다. 서버는 자신의 `개인키`로 복호화하고, 이로써 서로가 대칭키를 공유하게 된다.    
5. 실제 데이터를 주고받을 때 대칭키와 데이터를 암호화-복호화하여 데이터를 요청/응답한다. 응답이 끝나면 SSL 통신이 끝났음을 서로에게 알리고 사용한 대칭키를 폐기한다.    
6. 이렇게 공개키와 대칭키 방식을 혼합해 쓰는 이유는, 공개키 암호화 방식은 컴퓨터 리소스를 많이 사용하기 때문에 전체 데이터에 대해 수행하기에는 부담스럽고, 대칭키는 수신측과 송신측이 동일한 키를 공유하기 때문에 보안의 문제가 발생하기 떄문이다.

### 공개키, 개인키 암호화
- `대칭키`는 암호화/복호화에 사용하는 키가 같은 암호화 알고리즘이다. 암호화/복호화 연산이 복잡하지 않아 연산속도가 빠르고 구현이 용이해 대량 데이터 암호화에 유리하나, 암호화/복호화 키가 동일하기 때문에 중간에 유출 가능성이 있고 다수와 통신 시 키의 개수가 급증해 키를 전달하고 관리하기 어렵다.
- `공개키`는 암호화/복호화에 사용하는 키가 다른 암호화 알고리즘이다. 공개해도 무관한 공개키로 암호화하고 타인에게 노출되지 않도록 각자 보관하는 개인키로 복호화한다. 공개키가 유출되어도 복호화를 할 수 없어 유출 가능성이 낮지만, 암호화/복호화 연산이 복잡한 수학 연산을 기반으로 하기 때문에 대칭키 알고리즘에 비해 연산속도가 느려 대량 데이터 암호화에 사용될 경우 매우 느려진다.
